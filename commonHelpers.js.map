{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('form');\nconst searchInput = document.querySelector('input[type=\"text\"]');\nconst gallery = document.querySelector('.gallery');\n\n// css-loader\nconst loaderWrapper = document.querySelector('.loader-wrapper');\nfunction showLoader() {\n  loaderWrapper.style.display = 'block';\n}\nfunction hideLoader() {\n  loaderWrapper.style.display = 'none';\n}\n// css-loader\n\nfunction createImageCard(imageData) {\n  return `\n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${imageData.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${imageData.webformatURL}\"\n      data-source=\"${imageData.largeImageURL}\"\n      alt=\"${imageData.tags}\"\n    />\n  </a>\n<ul class=\"parametrs-items\">\n<li class=\"parametrs-item\"><h4>Likes</h4><span>${imageData.likes}</span></li>\n<li class=\"parametrs-item\"><h4>Views</h4><span>${imageData.views}</span></li>\n<li class=\"parametrs-item\"><h4>Comments</h4><span>${imageData.comments}</span></li>\n<li class=\"parametrs-item\"><h4>Downloads</h4><span>${imageData.downloads}</span></li>\n</ul>\n</li>\n`;\n}\nhideLoader();\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  form.reset();\n  showLoader();\n  gallery.innerHTML = '';\n\n  fetch(\n    `https://pixabay.com/api/?key=42170319-af092c1d236dd53a733e41db9&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      hideLoader();\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topCenter',\n          backgroundColor: 'red',\n          messageColor: '#fff',\n        });\n      } else {\n        gallery.innerHTML = '';\n        const imageCards = data.hits.map(imageData =>\n          createImageCard(imageData)\n        );\n        gallery.innerHTML = imageCards.join('');\n        const galleryList = new SimpleLightbox('.gallery a', {\n          captionDelay: 250,\n          captionsData: 'alt',\n        });\n        galleryList.refresh();\n      }\n    })\n    .catch(error => console.log(error));\n});\n"],"names":["form","searchInput","gallery","loaderWrapper","showLoader","hideLoader","createImageCard","imageData","event","searchQuery","iziToast","response","data","imageCards","SimpleLightbox","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAU,SAAS,cAAc,UAAU,EAG3CC,EAAgB,SAAS,cAAc,iBAAiB,EAC9D,SAASC,GAAa,CACpBD,EAAc,MAAM,QAAU,OAChC,CACA,SAASE,GAAa,CACpBF,EAAc,MAAM,QAAU,MAChC,CAGA,SAASG,EAAgBC,EAAW,CAClC,MAAO;AAAA;AAAA,kCAEyBA,EAAU;AAAA;AAAA;AAAA,aAG/BA,EAAU;AAAA,qBACFA,EAAU;AAAA,aAClBA,EAAU;AAAA;AAAA;AAAA;AAAA,iDAI0BA,EAAU;AAAA,iDACVA,EAAU;AAAA,oDACPA,EAAU;AAAA,qDACTA,EAAU;AAAA;AAAA;AAAA,CAI/D,CACAF,IACAL,EAAK,iBAAiB,SAAUQ,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAcR,EAAY,MAAM,KAAI,EAE1C,GAAI,CAACQ,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,WAChB,CAAK,EACD,MACD,CAEDV,EAAK,MAAK,EACVI,IACAF,EAAQ,UAAY,GAEpB,MACE,qEAAqEO,2DACtE,EACE,KAAKE,GAAY,CAEhB,GADAN,IACI,CAACM,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,YACV,gBAAiB,MACjB,aAAc,MACxB,CAAS,MACI,CACLR,EAAQ,UAAY,GACpB,MAAMW,EAAaD,EAAK,KAAK,IAAIL,GAC/BD,EAAgBC,CAAS,CACnC,EACQL,EAAQ,UAAYW,EAAW,KAAK,EAAE,EAClB,IAAIC,EAAe,aAAc,CACnD,aAAc,IACd,aAAc,KACxB,CAAS,EACW,QAAO,CACpB,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC"}